(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{241:function(t,n,r){"use strict";var e;r.d(n,"a",(function(){return e})),function(t){t.Party="party",t.Status="status",t.Keyword="keyword",t.Topic="topic"}(e||(e={}))},265:function(t,n,r){var e=r(3);t.exports=e(1..valueOf)},270:function(t,n,r){"use strict";r.r(n),r.d(n,"groupPromisesBy",(function(){return m}));var e=r(22),o=r(299),l=(r(13),r(103),r(289),r(49),r(184),r(32),r(48),r(269),r(290),r(241)),c=r(239),f=[c.a.NoData,c.a.Proposed,c.a.Paused,c.a.Working,c.a.Done],d=[c.b.Equality,c.b.Security,c.b.Foreign,c.b.Administration,c.b.Culture,c.b.Economics,c.b.Environmental],v=function(t){return t?f.reduce((function(n,r){return r in t?[].concat(Object(o.a)(n),[{status:r,count:t[r]}]):n}),[]):[]},m=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,m=n.reduce((function(n,r){var e=r[t];return e in n?n[e].count++:n[e]={isNCPO:!1,count:1,statuses:{}},r.status in n[e].statuses?n[e].statuses[r.status]++:n[e].statuses[r.status]=1,!0===r.isNCPO&&(n[e].isNCPO=!0),n}),{}),y=t===l.a.Party?Object.entries(m).map((function(t){var n=Object(e.a)(t,2),label=n[0],r=n[1];return{label:label,icon:"party/".concat(label,".jpg"),isNCPO:r.isNCPO,data:v(r.statuses)}})).sort((function(a,t){return m[t.label].count-m[a.label].count})):t===l.a.Topic?d.map((function(t){var n,r;return{label:null===(n=c.d.get(t))||void 0===n?void 0:n.short,icon:"topic/".concat(t,"_small.png"),data:v(null===(r=m[t])||void 0===r?void 0:r.statuses)}})):f.map((function(t){var n;return{label:c.c.get(t),icon:"status/".concat(t,"_small.png"),data:v(null===(n=m[t])||void 0===n?void 0:n.statuses)}}));if(y.length>r){var h=y.slice(r);y=[].concat(Object(o.a)(y.slice(0,r)),[{label:"อื่นๆ",icon:"other-group.png",data:f.map((function(t){return{status:t,count:h.reduce((function(n,r){var e;return n+((null===(e=r.data.find((function(n){return n.status===t})))||void 0===e?void 0:e.count)||0)}),0)}})).filter((function(t){return t.count>0}))}])}var P=Object.values(m).map((function(t){return t.count}));return{max:Math.max.apply(Math,Object(o.a)(P)),total:P.reduce((function(t,n){return t+n}),0),charts:y}}},298:function(t,n,r){"use strict";r.r(n);r(49),r(13),r(303);var e=r(2),o=r(239),l=e.a.extend({name:"PartyCard",props:{partyLogo:{type:String,default:"",required:!1},partyName:{type:String,default:""},partyPromises:{type:Array,default:function(){return[]}},buttonUrl:{type:String,default:""}},computed:{sumPartyPromises:function(){var t=this.partyPromises.map((function(a){return a.count}));return t.length>0?t.reduce((function(a,b){return a+b})):0},promises:function(){var t=this,n=this.partyPromises;return n.length>0?n.map((function(a){return{status:a.status,count:a.count,countPercentage:(a.count/t.sumPartyPromises*100).toFixed(2)}})):[{status:o.a.NoData,countPercentage:"100"}]}}}),c=r(16),component=Object(c.a)(l,(function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"flex bg-white w-full px-4 py-3 rounded-sm flex-row gap-3 text-black"},[r("div",[r("div",{staticClass:"w-10 h-10 md:w-9 md:h-9"},[t.partyLogo?r("img",{staticClass:"w-full h-full rounded-full shadow",attrs:{src:t.$config.path.images+"/"+t.partyLogo,alt:t.partyName}}):r("img",{staticClass:"w-full h-full rounded-full shadow",attrs:{src:t.$config.path.images+"/party/dummy.jpg",alt:"Dummy Party Logo"}})])]),t._v(" "),r("div",{staticClass:"flex flex-col md:flex-row items-start md:items-center gap-3 w-full"},[r("div",{staticClass:"w-full"},[r("div",{staticClass:"h11 wv-font-black"},[t._v(t._s(t.partyName))]),t._v(" "),r("div",[r("span",{staticClass:"promise-sum"},[t._v(t._s(t.sumPartyPromises))]),t._v(" "),r("span",[t._v(" คำสัญญา")])])]),t._v(" "),r("div",{staticClass:"w-full"},[r("span",{staticClass:"flex h-4 overflow-hidden"},t._l(t.promises,(function(t,i){return r("span",{key:i,class:"bg-status-"+t.status,style:"width:"+t.countPercentage+"%;",attrs:{title:t.status+": "+t.count}})})),0)]),t._v(" "),r("div",[r("NuxtLink",{attrs:{to:t.buttonUrl}},[r("Button",{staticClass:"h-10 w-full sm:w-max",attrs:{theme:"primary-blue"}},[r("span",[t._v("ดูคำสัญญา")]),t._v(" "),r("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M-2.26862e-07 6.74994L-2.92429e-07 5.24994L9 5.24994L4.875 1.12494L5.94 0.0599401L11.88 5.99994L5.94 11.9399L4.875 10.8749L9 6.74994L-2.26862e-07 6.74994Z"}})])])],1)],1)])])}),[],!1,null,null,null);n.default=component.exports;installComponents(component,{Button:r(101).default})},303:function(t,n,r){"use strict";var e=r(6),o=r(1),l=r(3),c=r(51),f=r(265),d=r(187),v=r(4),m=o.RangeError,y=o.String,h=Math.floor,P=l(d),w=l("".slice),C=l(1..toFixed),x=function(t,n,r){return 0===n?r:n%2==1?x(t,n-1,r*t):x(t*t,n/2,r)},_=function(data,t,n){for(var r=-1,e=n;++r<6;)e+=t*data[r],data[r]=e%1e7,e=h(e/1e7)},N=function(data,t){for(var n=6,r=0;--n>=0;)r+=data[n],data[n]=h(r/t),r=r%t*1e7},O=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var n=y(data[t]);s=""===s?n:s+P("0",7-n.length)+n}return s};e({target:"Number",proto:!0,forced:v((function(){return"0.000"!==C(8e-5,3)||"1"!==C(.9,0)||"1.25"!==C(1.255,2)||"1000000000000000128"!==C(0xde0b6b3a7640080,0)}))||!v((function(){C({})}))},{toFixed:function(t){var n,r,e,o,l=f(this),d=c(t),data=[0,0,0,0,0,0],v="",h="0";if(d<0||d>20)throw m("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return y(l);if(l<0&&(v="-",l=-l),l>1e-21)if(r=(n=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n}(l*x(2,69,1))-69)<0?l*x(2,-n,1):l/x(2,n,1),r*=4503599627370496,(n=52-n)>0){for(_(data,0,r),e=d;e>=7;)_(data,1e7,0),e-=7;for(_(data,x(10,e,1),0),e=n-1;e>=23;)N(data,1<<23),e-=23;N(data,1<<e),_(data,1,1),N(data,2),h=O(data)}else _(data,0,r),_(data,1<<-n,0),h=O(data)+P("0",d);return h=d>0?v+((o=h.length)<=d?"0."+P("0",d-o)+h:w(h,0,o-d)+"."+w(h,o-d)):v+h}})},313:function(t,n,r){"use strict";r.r(n);r(48),r(13);var e=r(298),o=r(266),l=r(270),c=r(304),filter=r(241),f={name:"IndexPage",components:{PartyCard:e.default,StatusLegend:o.default},data:function(){return{promises:c}},computed:{NCPOParty:function(){return Object(l.groupPromisesBy)(filter.a.Party,this.promises,50).charts.filter((function(t){return!0===t.isNCPO}))},nonNCPOParty:function(){return Object(l.groupPromisesBy)(filter.a.Party,this.promises,50).charts.filter((function(t){return!1===t.isNCPO}))}}},d=r(16),component=Object(d.a)(f,(function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"grid grid-cols-6 gap-4 p-4 sm:p-6 max-w-4xl bg-gray bg-opacity-10 rounded-xl"},[r("div",{staticClass:"col-span-6 sm:col-span-2"},[r("h5",{staticClass:"wv-h5 font-kondolar wv-font-bold"},[t._v("สำรวจคำสัญญา")]),t._v(" "),r("h5",{staticClass:"wv-h5 font-kondolar wv-font-bold pb-6"},[t._v("ตามพรรค")]),t._v(" "),r("StatusLegend",{staticClass:"text-white",attrs:{showDetail:!1}})],1),t._v(" "),r("div",{staticClass:"col-span-6 sm:col-span-4"},[r("div",{staticClass:"flex flex-col gap-4"},[r("span",{staticClass:"wv-h8 wv-font-kondolar wv-font-bold"},[t._v("\n        ฝ่ายรัฐบาล "+t._s(t.NCPOParty.length)+" พรรค\n      ")]),t._v(" "),r("div",{staticClass:"flex flex-col gap-1"},t._l(t.NCPOParty,(function(t){var label=t.label,n=t.icon,data=t.data;return r("PartyCard",{key:label,attrs:{partyLogo:n,partyName:label,partyPromises:data,buttonUrl:"explore"}})})),1),t._v(" "),r("span",{staticClass:"wv-h8 wv-font-kondolar wv-font-bold"},[t._v("\n        ฝ่ายค้าน "+t._s(t.nonNCPOParty.length)+" พรรค\n      ")]),t._v(" "),r("div",{staticClass:"flex flex-col gap-1"},t._l(t.nonNCPOParty,(function(t){var label=t.label,n=t.icon,data=t.data;return r("PartyCard",{key:label,attrs:{partyLogo:n,partyName:label,partyPromises:data,buttonUrl:"explore"}})})),1)])])])}),[],!1,null,null,null);n.default=component.exports;installComponents(component,{PartyCard:r(298).default})}}]);